{
    "templates": [
    {
        "templateId": "ondemand",
        "attributes": {
            "type": ["String", "X86_64"],
            "ncores": ["Numeric", "2"],
            "ncpus": ["Numeric", "2"],
            "mem": ["Numeric", "16384"],
            "cyclecloudhost": ["Boolean", "1"],
            "nodearray" : ["String", "ondemand"]
        },
        "nodeArray": "ondemand",
        "customScriptUri": "<%= @customscripturi %>",
        "userData": "zone=westus2;nodearray_name=ondemand"
    },
    {
      "templateId": "ondemandmpi0",
      "attributes": {
        "nodearray": ["String", "ondemandmpi" ],
        "ncores": ["Numeric", "2"],
        "ncpus": ["Numeric", "2"],
        "mem": ["Numeric", "16384"],
        "cyclecloudmpi": [  "Boolean",  1],
        "placementgroup": [  "String",  "ondemandmpipg0"],
        "cyclecloudhost": [  "Boolean",  1],
        "type": [  "String",  "X86_64"],
        "cyclecloudlowprio": [  "Boolean",  0]
      },
      "nodeArray": "ondemandmpi",
      "placementGroupName": "ondemandmpipg0",
      "priority": 449,
      "customScriptUri": "<%= @customscripturi %>",
      "userData" : "nodearray_name=ondemandmpi;placement_group_id=ondemandmpipg0"
    },
    {
      "templateId": "ondemandmpi1",
      "attributes": {
        "nodearray": ["String", "ondemandmpi" ],
        "ncores": ["Numeric", "2"],
        "ncpus": ["Numeric", "2"],
        "mem": ["Numeric", "16384"],
        "cyclecloudmpi": [  "Boolean",  1],
        "placementgroup": [  "String",  "ondemandmpipg1"],
        "cyclecloudhost": [  "Boolean",  1],
        "type": [  "String",  "X86_64"],
        "cyclecloudlowprio": [  "Boolean",  0]
      },
      "nodeArray": "ondemandmpi",
      "placementGroupName": "ondemandmpipg1",
      "priority": 448,
      "customScriptUri": "<%= @customscripturi %>",
      "userData" : "nodearray_name=ondemandmpi;placement_group_id=ondemandmpipg1"
    },
    {
      "templateId": "ondemandmpi2",
      "attributes": {
        "nodearray": ["String", "ondemandmpi" ],
        "ncores": ["Numeric", "2"],
        "ncpus": ["Numeric", "2"],
        "mem": ["Numeric", "16384"],
        "cyclecloudmpi": [  "Boolean",  1],
        "placementgroup": [  "String",  "ondemandmpipg2"],
        "cyclecloudhost": [  "Boolean",  1],
        "type": [  "String",  "X86_64"],
        "cyclecloudlowprio": [  "Boolean",  0]
      },
      "nodeArray": "ondemandmpi",
      "placementGroupName": "ondemandmpipg2",
      "priority": 447,
      "customScriptUri": "<%= @customscripturi %>",
      "userData" : "nodearray_name=ondemandmpi;placement_group_id=ondemandmpipg2"
    },
    {
        "templateId": "lowprio",
        "attributes": {
            "type": ["String", "X86_64"],
            "ncores": ["Numeric", "2"],
            "ncpus": ["Numeric", "2"],
            "mem": ["Numeric", "16384"],
            "cyclecloudhost": ["Boolean", "1"],
            "nodearray" : ["String", "lowprio"],
            "cyclecloudlowprio": [  "Boolean",  1]
        },
        "nodeArray": "lowprio",
        "keyPairLocation": "~/.ssh/cyclecloud.pem",
        "customScriptUri": "<%= @customscripturi %>",
        "userData" : "nodearray_name=lowprio"
    },
    {
        "templateId": "gpu",
        "attributes": {
            "type": ["String", "X86_64"],
            "ncores": ["Numeric", "12"],
            "ncpus": ["Numeric", "12"],
            "mem": ["Numeric", "112000"],
            "cyclecloudhost": ["Boolean", "1"],
            "nodearray" : ["String", "gpu"],
            "gpuextend" :  [  "String", "ngpus:2" ]
        },
        "nodeArray": "gpu",
        "priority": 445,
        "vmType": "Standard_NC12",
        "keyPairLocation": "~/.ssh/cyclecloud.pem",
        "customScriptUri": "<%= @customscripturi %>",
        "userData" : "nodearray_name=gpu"
    },
    {
      "templateId": "gpumpi0",
      "attributes": {
        "type": ["String", "X86_64"],
        "ncores": ["Numeric", "12"],
        "ncpus": ["Numeric", "12"],
        "mem": ["Numeric", 112000],
        "cyclecloudhost": ["Boolean", "1"],
        "nodearray": ["String", "gpumpi"],
        "cyclecloudmpi": ["Boolean", 1],
        "zone": ["String", "westus2"], 
        "type": ["String", "X86_64"],
        "cyclecloudlowprio": ["Boolean", 0],
        "placementgroup": [  "String",  "gpumpipg0"],
        "gpuextend" :  [  "String", "ngpus:2" ]
      },
      "nodeArray": "gpumpi",
      "placementGroupName": "gpumpipg0",
      "priority": 440,
      "vmType": "Standard_NC12",
      "keyPairLocation": "~/.ssh/cyclecloud.pem",
      "customScriptUri": "<%= @customscripturi %>",
      "userData" : "nodearray_name=gpumpi;placement_group_id=gpumpipg0"
    },
    {
      "templateId": "gpumpi1",
      "attributes": {
        "type": ["String", "X86_64"],
        "ncores": ["Numeric", "12"],
        "ncpus": ["Numeric", "12"],
        "mem": ["Numeric", 112000],
        "cyclecloudhost": ["Boolean", "1"],
        "nodearray": ["String", "gpumpi"],
        "cyclecloudhost": ["Boolean", 1],
        "cyclecloudmpi": ["Boolean", 1],
        "zone": ["String", "westus2"], 
        "type": ["String", "X86_64"],
        "cyclecloudlowprio": ["Boolean", 0],
        "placementgroup": [  "String",  "gpumpipg1"],
        "gpuextend" :  [  "String", "ngpus:2" ]
      },
      "nodeArray": "gpumpi",
      "placementGroupName": "gpumpipg1",
      "priority": 439,
      "vmType": "Standard_NC12",
      "customScriptUri": "<%= @customscripturi %>",
      "userData" : "nodearray_name=gpumpi;placement_group_id=gpumpipg1"
    }]
}
